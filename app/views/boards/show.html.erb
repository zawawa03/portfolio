<div class="container">
  <div class="row">
    <div class="col-7 offset-1 mt-3" id="board_show">
      <div class="d-flex justify-content-center border-bottom border-dark-subtle border-2">
        <div class="d-flex flex-column my-4" id="comment_header">
          <h3><%= @board.title %></h3>
          <div class="wrap d-flex">
            <% @board.tags.each do |tag| %>
              <span class="me-1">#<%= tag.name %></span>
            <% end %>
          </div>
        </div>
      </div>  
      <div class="p-4" id="comment_field">
        <% @comments.each do |comment| %>
          <% @number += 1 %>
          <%= render partial: 'comments/comment', locals: { comment: comment, number: @number, board: @board } %>
        <% end %>
      </div>
      <div class="d-flex justify-content-center">
        <%= paginate @comments, window: 3, theme: "bootstrap-5" %>
      </div>  
    </div>
  </div>
  <div class="row">
    <div class="col-7 offset-1 my-4" id="comment-form">
      <span>コメント</span>
      <p>※ログインしていない場合匿名になります</p>
      <%= form_with model: @comment, url: board_comments_path(@board), method: :post, locals: true do |f| %>
        <div class="mt-2">
          <%= f.text_area :body, class: "form-control", placeholder: "255字以内", rows: 5 %>
        </div>
        <div class="mt-4">  
          <label for="formFile" class="form-label">画像 複数選択可</label>
          <%= f.file_field :media, class: "form-control", multiple: true %>
        </div>  
          <% if user_signed_in? %>
            <%= f.hidden_field :user_id, value: current_user.id %>
          <% end %>  
          <%= f.submit "送信", class: "btn btn-primary mt-3" %>
      <% end %>
    </div>
  </div>
</div>